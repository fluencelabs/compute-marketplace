query CapacityCommitmentsQuery(
  $filters: CapacityCommitment_filter,
  $offset: Int,
  $limit: Int,
  $orderBy: CapacityCommitment_orderBy,
  $orderType: OrderDirection,
) {
  capacityCommitments(
      where: $filters
      first: $limit
      skip: $offset
      orderBy: $orderBy
      orderDirection: $orderType
  ) {
    ...CapacityCommitmentBasic
  }
  graphNetworks(first: 1) {
    capacityCommitmentsTotal
  }
}

query CapacityCommitmentQuery(
  $id: ID!
) {
  capacityCommitment(id: $id) {
    ...CapacityCommitmentBasic
      totalCollateral
      rewardDelegatorRate
  }
}

query SubmittedProofsQuery(
  $filters: SubmittedProof_filter,
  $offset: Int,
  $limit: Int,
  $orderBy: SubmittedProof_orderBy,
  $orderType: OrderDirection,
) {
  submittedProofs(
    where: $filters
    first: $limit
    skip: $offset
    orderBy: $orderBy
    orderDirection: $orderType
  ){
    id
    capacityCommitment {
      id
      startEpoch
      endEpoch
    }
    computeUnit {
      id
    }
    createdAt
    createdEpoch
    peer {
      id
    }
  }
  graphNetworks(first: 1) {
    proofsTotal
  }
}

fragment CapacityCommitmentBasic on CapacityCommitment {
  id
  peer {
    id
    provider {
      id
    }
  }
  status
  createdAt
  startEpoch
  endEpoch
  computeUnitsCount
}

fragment ComputeUnitBasic on ComputeUnit {
    id
    workerId
    provider {
        id
    }
}

fragment EffectorBasic on Effector {
    id
    description
}
